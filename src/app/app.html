<main class="page">
  <section class="card">
    <div class="badge">ğŸ’˜ Valentineâ€™s Day</div>

    <h1 class="title">
      Hey <span class="name">{{ girlfriendName() }}</span>
    </h1>

    <p class="subtitle">I have a very important questionâ€¦</p>

    <div class="question">
      <div class="heart">â¤ï¸</div>
      <h2>Will you be my Valentine?</h2>
      <p class="small">(No pressure. Only extremely cute consequences.)</p>
    </div>

    <div class="actions">
      <button class="btn yes" (click)="onYesClick()">Yes ğŸ’–</button>

      <button
        #noButton
        class="btn no"
        (mouseenter)="onNoHover()"
        (click)="onNoClick()"
        [style.transform]="noTransform()"
      >
        No ğŸ™ƒ
      </button>
    </div>

    @if (answer() !== 'none') {
      <div class="result">
        @if (answer() === 'yes') {
          <ng-container>
            <h3>YAAAAAY!! ğŸ‰</h3>
            <p>I officially claim you for a romantic date.</p>

            <div class="details">
              <div class="detail-row"><span>ğŸ“…</span> {{ datePlanTitle() }}</div>
              <div class="detail-row"><span>ğŸ“</span> {{ place() }}</div>
              <div class="detail-row"><span>â°</span> {{ time() }}</div>
              <div class="detail-row"><span>ğŸ</span> {{ food() }}</div>
            </div>

            <p class="small">Screenshot this and send it to me with â€œYESSSâ€ ğŸ˜„</p>
          </ng-container>
        }

        @if (answer() === 'no') {
          <ng-container>
            <h3>Hmmm ğŸ¤”</h3>
            <p>That button seemsâ€¦ unreliable. Want to try again?</p>
          </ng-container>
        }
      </div>
    }
  </section>

  <!-- floating hearts -->
  @if (answer() === 'yes') {
    <div class="hearts">
      @for (item of heartItems(); let itemIndex = $index; track $index) {
        <span
          class="float"
          [style.left.%]="heartLeft(itemIndex)"
          [style.animationDelay.ms]="heartDelay(itemIndex)"
        >
          ğŸ’–
        </span>
      }
    </div>
  }
</main>
